{"version":3,"sources":["../../src/services/write-out-requires.ts"],"names":["writeOutRequires","store","parentSpan","activity","reporter","activityTimer","start","getState","err","panic","end"],"mappings":";;;;;;;AACA;;AACA;;AACA;;AAEO,eAAeA,gBAAf,CAAgC;AACrCC,EAAAA,KADqC;AAErCC,EAAAA;AAFqC,CAAhC,EAGmC;AACxC,gCAAYD,KAAZ,EADwC,CAGxC;;AACA,QAAME,QAAQ,GAAGC,kBAASC,aAAT,CAAwB,oBAAxB,EAA6C;AAC5DH,IAAAA;AAD4D,GAA7C,CAAjB;;AAGAC,EAAAA,QAAQ,CAACG,KAAT;;AACA,MAAI;AACF,UAAM,8BAASL,KAAK,CAACM,QAAN,EAAT,CAAN;AACD,GAFD,CAEE,OAAOC,GAAP,EAAY;AACZJ,sBAASK,KAAT,CAAgB,8BAAhB,EAA+CD,GAA/C;AACD;;AACDL,EAAAA,QAAQ,CAACO,GAAT;AACD","sourcesContent":["import { IBuildContext } from \"./\"\nimport reporter from \"gatsby-cli/lib/reporter\"\nimport { writeAll } from \"../bootstrap/requires-writer\"\nimport { assertStore } from \"../utils/assert-store\"\n\nexport async function writeOutRequires({\n  store,\n  parentSpan,\n}: Partial<IBuildContext>): Promise<void> {\n  assertStore(store)\n\n  // Write out files.\n  const activity = reporter.activityTimer(`write out requires`, {\n    parentSpan,\n  })\n  activity.start()\n  try {\n    await writeAll(store.getState())\n  } catch (err) {\n    reporter.panic(`Failed to write out requires`, err)\n  }\n  activity.end()\n}\n"],"file":"write-out-requires.js"}